<html>
<head>
<title>Test</title>
</head>
<body>
<script type="text/javascript">

var rutoken = require('./rutoken/build/Release/rutoken');
var gui     = require('nw.gui');
var fs      = require('fs');

console.log(gui.App.dataPath);

console.log('fnInitialize() ', rutoken.fnInitialize());
console.log('isInitialize() ', rutoken.isInitialize());

var cntSlot = rutoken.fnCountSlot();
console.log('cntSlot: ', cntSlot);

if(cntSlot > 0) {
    for(var i=0; i <= cntSlot-1; i++) {
        rutoken.fnGetSlotInfo(i, function(data) {
            console.log('Slot info #' + i + "\n", data);
        });
        rutoken.fnGetTokenInfo(i, function(data) {
            console.log('Token info #' + i + "\n", data);
        });
        rutoken.fnGetMechanismList(i, function(data) {
            console.log('Mechanism list #' + i + "\n", data);
        });
    }
}

</script>
</body>
</html>
